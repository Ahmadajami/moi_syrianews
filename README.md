# Syria News


[![style: very good analysis][very_good_analysis_badge]][very_good_analysis_link]  
[![License: MIT][license_badge]][license_link]

Generated by the [Very Good CLI][very_good_cli_link] ü§ñ

## Ministry of Information News App

---

The Syria News App is a dedicated platform developed for the Ministry of Information. It delivers up-to-date news and announcements to users, ensuring they stay informed about the latest developments in Syria. Built with Flutter, this app is designed to provide a seamless experience across both iOS and Android devices. The app supports multiple languages and offers customizable build configurations to cater to various environments.


This app also integrates Firebase for backend services such as authentication, database management, and cloud messaging. For security reasons, all Firebase configuration files are excluded from the repository. If you clone or pull this project, you must create your own Firebase project and configuration files for the app to function properly.

# Why Avoid Using flutter_dotenv for Sensitive Environment Variables

In contrast, packages such as `flutter_dotenv` work by adding the `.env` file to the assets folder and reading its contents at runtime. This is very insecure because any asset file can easily be extracted by unzipping the release APK, thus exposing the environment variables.


## Getting Started üöÄ

This project provides three build flavors:

- **Development**
- **Staging**
- **Production**

To run a specific flavor, use the launch configurations in VSCode/Android Studio or execute the commands below:

```sh
# Development
flutter run --flavor development --target lib/main_development.dart

# Staging
flutter run --flavor staging --target lib/main_staging.dart

# Production
flutter run --flavor production --target lib/main_production.dart
```

_‚©¶ Syria News supports both iOS and Android._

---

## Running Tests üß™

Execute all unit and widget tests using the following command:

```sh
flutter test --coverage --test-randomize-ordering-seed random
```

To generate and view the coverage report, use [lcov](https://github.com/linux-test-project/lcov):

```sh
# Generate Coverage Report
genhtml coverage/lcov.info -o coverage/

# Open Coverage Report
open coverage/index.html
```

---

## Working with Translations üåê

This project uses [flutter_localizations][flutter_localizations_link] and adheres to Flutter's [internationalization guide][internationalization_link].

### Adding Strings

1. Open the `app_en.arb` file located in `lib/l10n/arb/app_en.arb`.

    ```arb
    {
        "@@locale": "en",
        "counterAppBarTitle": "Counter",
        "@counterAppBarTitle": {
            "description": "Text shown in the AppBar of the Counter Page"
        }
    }
    ```

2. Add a new key, value, and description:

    ```arb
    {
        "@@locale": "en",
        "counterAppBarTitle": "Counter",
        "@counterAppBarTitle": {
            "description": "Text shown in the AppBar of the Counter Page"
        },
        "helloWorld": "Hello World",
        "@helloWorld": {
            "description": "Hello World Text"
        }
    }
    ```

3. Use the new string in your Dart code:

    ```dart
    import 'package:syria_news/l10n/l10n.dart';

    @override
    Widget build(BuildContext context) {
      final l10n = context.l10n;
      return Text(l10n.helloWorld);
    }
    ```

### Adding Supported Locales

Update the `CFBundleLocalizations` array in the `Info.plist` file located at `ios/Runner/Info.plist`:

``` xml
<key>CFBundleLocalizations</key>
<array>
    <string>en</string>
    <string>es</string>
</array>
```

### Adding Translations

1. Add a new ARB file for each supported locale in `lib/l10n/arb`:

    ```
    ‚îú‚îÄ‚îÄ l10n
    ‚îÇ   ‚îú‚îÄ‚îÄ arb
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app_en.arb
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app_es.arb
    ```

2. Add translations for each locale:

   `app_en.arb`:

    ```arb
    {
        "@@locale": "en",
        "counterAppBarTitle": "Counter",
        "@counterAppBarTitle": {
            "description": "Text shown in the AppBar of the Counter Page"
        }
    }
    ```

   `app_es.arb`:

    ```arb
    {
        "@@locale": "es",
        "counterAppBarTitle": "Contador",
        "@counterAppBarTitle": {
            "description": "Texto mostrado en la AppBar de la p√°gina del contador"
        }
    }
    ```

### Generating Translations

Run the following command to generate localizations:

```sh
flutter gen-l10n --arb-dir="lib/l10n/arb"
```

Alternatively, running `flutter run` will trigger code generation automatically.

---

[coverage_badge]: coverage_badge.svg
[flutter_localizations_link]: https://api.flutter.dev/flutter/flutter_localizations/flutter_localizations-library.html
[internationalization_link]: https://flutter.dev/docs/development/accessibility-and-localization/internationalization
[license_badge]: https://img.shields.io/badge/license-MIT-blue.svg
[license_link]: https://opensource.org/licenses/MIT
[very_good_analysis_badge]: https://img.shields.io/badge/style-very_good_analysis-B22C89.svg
[very_good_analysis_link]: https://pub.dev/packages/very_good_analysis
[very_good_cli_link]: https://github.com/VeryGoodOpenSource/very_good_cli
